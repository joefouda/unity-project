<div class="row">
  <nb-card style=" width:80vw; margin: auto;">
    <nb-card-body>
      <nb-stepper class="stepper-main-container" orientation="horizontal" disableStepNavigation>
        <nb-step>
          <h4>Choose Min 1 Department, up to Select all</h4>
          <hr>
          <div class="checkboxes-container">
            <h5>Departments</h5>
            <p *ngFor="let department of departments">
              <input type="checkbox" [value]="department.id" (change)="getDepartmentsEmployees($event)"/> {{ department.name }} 
            </p>
          </div>
          <div class="stepper-buttons-container">
            <button class="prev-button" nbButton disabled nbStepperNext>back</button>
            <button class="next-button" nbButton status="primary" [disabled]="searchDepartments.length === 0" nbStepperNext>next</button>
          </div>
        </nb-step>
        <nb-step>
          <h4>Choose Min 1 Employee, up to Select all</h4>
          <hr>
          <div class="checkboxes-container">
            <h5>Employees</h5>
            <p *ngFor="let employee of employees">
              <input type="checkbox" [value]="employee.id" (change)="addToSelectedEmployees($event)"/> {{ employee.full_name }} 
            </p>
          </div>
          <div class="stepper-buttons-container">
            <button class="prev-button" nbButton nbStepperPrevious>back</button>
            <button class="next-button" nbButton status="primary" [disabled]="selectedEmployees.length === 0" nbStepperNext>next</button>
          </div>
        </nb-step>
        <nb-step>
          <h4>Preview After Choosing Employees</h4>
          <hr>
          <div class="employee-cards-container">
            <div class="employee-card" *ngFor="let employee of selectedEmployees">
              <input type="radio" [value]="employee.id" name="wantedEmployee" (change)="selectEmployee($event)" /> 
              <img style="max-height: 30vh;" [src]="employee.picture? imageUrl + employee.picture : altsrc" alt="">
              <span>{{employee.full_name}}</span>
              <span>{{employee.basic_salary}} SAR</span>
            </div>
          </div>
          <div class="stepper-buttons-container">
            <button class="prev-button" nbButton nbStepperPrevious>back</button>
            <button class="next-button" nbButton status="primary" [disabled]="wantedEmployee.id === ''" nbStepperNext>next</button>
          </div>
        </nb-step>
        <nb-step>
          <h4>Choose the Needed Elements to Calculate and Generate the Pay-slip</h4>
          <h5 class="employee-name">Employee : {{ wantedEmployee?.full_name }}</h5>
          <hr>
          <div class="payslip-container">
            <div class="payslip-table-container">
              <div class="payslip-column" *ngFor="let key of keys">
                <div class="payslip-key">{{ key.displayName }}</div>
                <div class="payslip-value">
                  <input type="checkbox" [disabled]="payslipData.month === ''" (change)="calculateNetSalary(key.key, $event)"/>
                </div>
              </div>
            </div>
            <div class="other-payslip-data">
                <nb-select name="month" [(ngModel)]="payslipData.month"  placeholder="{{ 'month' | translate }}">
                  <nb-option *ngFor="let month of months" [value]="month">{{ month }}</nb-option>
                </nb-select>
              <div class="net-salary-container">
                <h3>Net Salary</h3>
                <h3>{{netSalary}} SAR</h3>
              </div>
            </div>
            <div class="stepper-buttons-container">
              <button class="prev-button" nbButton nbStepperPrevious>back</button>
              <button class="generate-button" [disabled]="payslipData.month === ''" nbButton nbStepperNext (click)="generatePayslip()">Generate Pay-slip</button>
            </div>
          </div>
        </nb-step>
      </nb-stepper>
    </nb-card-body>
  </nb-card>
</div>